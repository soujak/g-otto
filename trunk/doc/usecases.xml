<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbookxi.rng" type="xml"?>
<!-- Questo file contiene le descrizioni dei casi d'uso -->
<!DOCTYPE chapter [
<!ENTITY % myent SYSTEM "entities.ent">
%myent;
<!ENTITY uc "Caso d'uso: ">
]>
<chapter xml:lang="it" xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink"
    version="5.0" xml:id="chap-usecases">
    <!-- 1. Ricerca nel catalogo
2. Acquisto di uno a piu' libri
3. Selezione di uno o piu' libri 
4. Autenticazione dell'utente
-->
    <title>Casi d'uso</title>
    <section>
        <title>Diagrammi dei casi d'uso</title>
        <para/>
        <para/>
        <mediaobject>
            <imageobject>
                <imagedata fileref="ModelloCasiUso/usecases01.svg" align="center" scalefit="1" depth="245"
                    format="SVG"/>
            </imageobject>
            <caption>
                <para>Diagramma dei casi d'uso.</para>
            </caption>
        </mediaobject>
        <para/>
        <para/>
    </section>
    <section>
        <title>Tabelle dei casi d'uso</title>
        <!-- Bozza tabella use case -->
        <table border="1" xml:id="uc01-ricercalibri">
            <caption> UC01 (RicercaLibri)</caption>
            <?dbfo keep-together="always" ?>
            <thead>
                <tr>
                    <th align="center">Caso d'uso: RicercaLibri</th>
                </tr>
                <tr>
                    <th align="center">ID: UC01</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <formalpara>
                            <title>Attori coinvolti</title>
                            <para>Utente</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Funzione</title>
                            <para>Permettere la ricerca di libri secondo uno o pi&ugrave;
                                parametri.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Precondizioni</title>
                            <para>Nessuna.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Trigger (innesco)</title>
                            <para>L'utente desidera cercare uno o pi&ugrave; libri.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Sequenza degli eventi</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>L'utente inserisce i valori sui quali effettuare la
                                            ricerca nei campi della maschera di ricerca e
                                            conferma.</para>
                                    </listitem>
                                    <listitem>
                                        <para>Il sistema restituisce l'elenco di tutti i libri del
                                            catalogo coerenti coi valori di ricerca immessi. Nel
                                            caso nessun libro risponda ai criteri di ricerca, il
                                            sistema lo notifica con un messaggio appropriato.</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Eccezioni</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>Il sistema incontra un errore durante l'accesso al
                                            catalogo e la ricerca fallisce: in questo caso l'utente
                                            viene notificato con un messaggio appropriato e gli
                                            viene suggerita un'azione alternativa(es. riprovare
                                            pi&ugrave; tardi.)</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Postcondizioni</title>
                            <para/>
                        </formalpara>
                    </td>
                </tr>
            </tbody>
        </table>
        <para/>
        <para/>
        <table border="1" xml:id="uc02-selezionelibri">
            <caption> UC02 (SelezioneLibri)</caption>
            <?dbfo keep-together="always" ?>
            <thead>
                <tr>
                    <th align="center">Caso d'uso: SelezioneLibri</th>
                </tr>
                <tr>
                    <th align="center">ID: UC02</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <formalpara>
                            <title>Attori coinvolti</title>
                            <para>Cliente</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Funzione</title>
                            <para>Permettere al cliente di selezionare uno o pi&ugrave; libri per un
                                eventuale successivo acquisto. </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Precondizioni</title>
                            <para>Il cliente deve aver effettuato una ricerca (caso d'uso UC01) e
                                trovarsi di fronte all'elenco di libri (non vuoto) mostratogli dal
                                sistema.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Trigger (innesco)</title>
                            <para>Il cliente autenticato desidera selezionare alcuni libri di suo
                                interesse per acquistarli.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Sequenza degli eventi</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>il cliente indica uno o pi&ugrave; libri
                                            (eventualmente specificandone la quantit&agrave;)
                                            attraverso l'interfaccia, che deve presentare questa
                                            possibilit&agrave; in modo chiaro per ogni singolo
                                            libro.</para>
                                    </listitem>
                                    <listitem>
                                        <para>Il sistema inserisce i libri, nella quantit&agrave;
                                            specificata, nel carrello del cliente.</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Sequenza alternativa</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>Il cliente non desidera selezionare nessuno dei libri
                                            risultanti dalla sua ricerca. Abbandona la schermata ed
                                            effettua una nuova ricerca, passando nuovamente al caso
                                            d'uso RicercaLibri.</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Postcondizioni</title>
                            <para>I libri selezionati sono inseriti all'interno del carrello del
                                cliente, in aggiunta ad eventuali libri gi&agrave; presenti. Qualora
                                il cliente avesse selezionato libri gi&agrave; inseriti nel carrello
                                in precedenza, il numero di nuove copie viene sommato alle copie
                                gi&agrave; inserite. Il carrello non &egrave; vuoto ed &egrave;
                                quindi possibile acquistarne il contenuto. </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Note</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>La conferma dell'operazione pu&ograve; avvenire o
                                            meno, dipende dall'interfaccia.</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
            </tbody>
        </table>
        <para/>
        <para/>
        <table border="1" xml:id="uc03-autenticazione">
            <caption> UC03 (Autenticazione)</caption>
            <?dbfo keep-together="always" ?>
            <thead>
                <tr>
                    <th align="center">Caso d'uso: Autenticazione</th>
                </tr>
                <tr>
                    <th align="center">ID: UC03</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <formalpara>
                            <title>Attori coinvolti</title>
                            <para>
                                <itemizedlist>
                                    <listitem>
                                        <para>Visitatore</para>
                                    </listitem>
                                    <listitem>
                                        <para>Cliente</para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Funzione</title>
                            <para>Permettere ad un visitatore di autenticarsi presso il sistema e al
                                fine di accedere alle funzioni di selezione e acquisto libri.
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Precondizioni</title>
                            <para>Il visitatore deve possedere un login e una password.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Trigger (innesco)</title>
                            <para>Il visitatore desidera acquistare dei libri nell'immediato o
                                sceglierne alcuni per un acquisto in un secondo momento.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Sequenza degli eventi</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>Il visitatore identifica nell'interfaccia la sezione
                                            dedicata all'autenticazione.</para>
                                    </listitem>
                                    <listitem>
                                        <para>Il visitatore inserisce il suo username e la sua
                                            password.</para>
                                    </listitem>
                                    <listitem>
                                        <para>Se le credenziali del visitatore risultano corrette
                                            (il login corrisponde a un login riconosciuto e la
                                            password inserita &egrave; quella attesa per il login
                                                dato)<orderedlist numeration="loweralpha">
                                                <listitem>
                                                  <para>Il sistema identifica il visitatore e cambia
                                                  il suo stato in cliente.</para>
                                                </listitem>
                                            </orderedlist></para>
                                        <para> Altrimenti, se il login non corrisponde a un login
                                            valido o la password non corrisponde al login
                                                <orderedlist continuation="continues">
                                                <listitem>
                                                  <para> Il sistema notifica il visitatore con un
                                                  messaggio di errore generico di autenticazione
                                                  fallita.</para>
                                                </listitem>
                                                <listitem>
                                                  <para> Il visitatore pu&ograve; riprovare
                                                  l'autenticazione ripartendo al punto 2.</para>
                                                </listitem>
                                            </orderedlist></para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Postcondizioni</title>
                            <para>L'utente &egrave; riconosciuto dal sistema e gli &egrave;
                                possibile selezionare libri e procedere all'acquisto. </para>
                        </formalpara>
                    </td>
                </tr>
            </tbody>
        </table>
        <para/>
        <para/>
        <table border="1" xml:id="uc04-acquisto">
            <caption> UC04 (Acquisto)</caption>
            <?dbfo keep-together="always" ?>
            <thead>
                <tr>
                    <th align="center">Caso d'uso: Acquisto</th>
                </tr>
                <tr>
                    <th align="center">ID: UC04</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <formalpara>
                            <title>Attori coinvolti</title>
                            <para>Cliente</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Funzione</title>
                            <para>Permette di acquistare l'intero contenuto del carrello.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Precondizioni</title>
                            <para>Il carrello non &egrave; vuoto. </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Trigger (innesco)</title>
                            <para>Il cliente desidera acquistare il contenuto del suo
                                carrello.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Sequenza degli eventi</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>include(RicercaLibri)</para>
                                    </listitem>
                                    <listitem>
                                        <para>include(SelezionaLibri)</para>
                                    </listitem>
                                    <listitem>
                                        <para>Il cliente specifica al sistema mediante l'interfaccia
                                            preposta la volont&agrave; di acquistare i libri nel suo
                                            carrello.</para>
                                    </listitem>
                                    <listitem>
                                        <para>[opzionale] Il sistema mostra al cliente il contenuto
                                            del suo carrello. [a questo punto il cliente pu&ograve;
                                            decidere di proseguire all'acquisto o abbandonare la
                                            schermata]</para>
                                    </listitem>
                                    <listitem>
                                        <para>Il sistema conferma l'acquisto.</para>
                                    </listitem>
                                    <listitem>
                                        <para>include(Disconnessione)</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <!--               <tr>
                    <td>
                        <formalpara>
                            <title>Eccezioni</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>eccezione 1</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>-->
                <!--                <tr>
                    <td>
                        <formalpara>
                            <title>Sequenza alternativa</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>Il cliente potrebbe semplicemente richiedere che il
                                            contenuto del suo carrello venga interamente
                                            cancellato.</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>-->
                <!--                <tr>
                    <td>
                        <formalpara>
                            <title>Scenari secondari</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>Scenario secondario 1</para>
                                    </listitem>
                                    <listitem>
                                        <para>Scenario secondario 2</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>-->
                <tr>
                    <td>
                        <formalpara>
                            <title>Postcondizioni</title>
                            <para>Il carrello &egrave; svuotato.</para>
                        </formalpara>
                    </td>
                </tr>
            </tbody>
        </table>
        <para/>
        <para/>
        <table border="1" xml:id="uc05-disconnessione">
            <caption> UC05 (Disconnessione)</caption>
            <?dbfo keep-together="always" ?>
            <thead>
                <tr>
                    <th align="center">Caso d'uso: Disconnessione</th>
                </tr>
                <tr>
                    <th align="center">ID: UC05</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <formalpara>
                            <title>Attori coinvolti</title>
                            <para>Cliente</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Funzione</title>
                            <para>Permette di terminare la comunicazione col sistema da parte di un
                                cliente.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Precondizioni</title>
                            <para>Nessuna.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Trigger (innesco)</title>
                            <para>
                                <itemizedlist>
                                    <listitem>
                                        <para>Possibile innesco 1: il cliente desidera non essere
                                            pi&ugrave; riconosciuto dal sistema (tipicamente
                                            perch&eacute; ha terminato di utilizzarlo o non desidera
                                            pi&ugrave; fare acquisti).</para>
                                    </listitem>
                                    <listitem>
                                        <para>Possibile innesco 2: il sistema al termine di un
                                            acquisto ritiene conclusa la comunicazione con un
                                            cliente e lo disconnette dal sistema.</para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Sequenza degli eventi</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>Il cliente o il sistema richiedono la disconnessione
                                            del cliente.</para>
                                    </listitem>
                                    <listitem>
                                        <para>Il cliente viene disconnesso dal sistema e ritorna
                                            nello stato di Visitatore.</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Postcondizioni</title>
                            <para>Nessuna.</para>
                        </formalpara>
                    </td>
                </tr>
            </tbody>
        </table>
        <para/>
        <para/>
        <table border="1" xml:id="uc06-modificacarrello">
            <caption> UC06 (ModificaCarrello)</caption>
            <?dbfo keep-together="always" ?>
            <thead>
                <tr>
                    <th align="center">Caso d'uso: ModificaCarrello</th>
                </tr>
                <tr>
                    <th align="center">ID: UC06</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <formalpara>
                            <title>Attori coinvolti</title>
                            <para>Cliente</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Funzione</title>
                            <para>Permette di modificare il numero di copie specificato per ogni
                                libro presente nel carrello, fino a portarlo a zero (che coincide
                                con l'eliminazione del libro dal carrello.) </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Precondizioni</title>
                            <para>Il cliente ha inserito almeno un libro nel carrello. L'utente sta
                                visualizzando il carrello.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Trigger (innesco)</title>
                            <para>L'utente desidera modificare il contenuto del suo carrello
                                eliminando libri o modificando per un libro inserito il numero di
                                copie.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Sequenza degli eventi</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>L'utente modifica il valore indicante la
                                            quantit&agrave; per uno o pi&ugrave; libri</para>
                                    </listitem>
                                    <listitem>
                                        <para>L'utente conferma la modifica.</para>
                                    </listitem>
                                    <listitem>
                                        <para>Il sistema mostra il nuovo carrello con le quantit&agrave; modificate. I libri la cui quantit&agrave; &egrave; stata portata a zero o a un numero negativo vengono eliminati e non compaiono pi&ugrave; nel carrello.</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
<!--                <tr>
                    <td>
                        <formalpara>
                            <title>Eccezioni</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>eccezione 1</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>-->
                <tr>
                    <td>
                        <formalpara>
                            <title>Postcondizioni</title>
                            <para>Il nuovo carrello &egrave; visualizzato. I libri contenuti nel carrello hanno subtio modifiche.</para>
                        </formalpara>
                    </td>
                </tr>
            </tbody>
        </table>
        <para/>
        <para/>
        <table border="1" xml:id="uc07-visualizzacarrello">
            <caption> UC07 (VisualizzaCarrello)</caption>
            <?dbfo keep-together="always" ?>
            <thead>
                <tr>
                    <th align="center">Caso d'uso: VisualizzaCarrello</th>
                </tr>
                <tr>
                    <th align="center">ID: UC07</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <formalpara>
                            <title>Attori coinvolti</title>
                            <para>Cliente</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Funzione</title>
                            <para>Mostrare il contenuto del carrello del cliente. </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Precondizioni</title>
                            <para>Nessuna.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Trigger (innesco)</title>
                            <para>Il cliente desidera visualizzare i libri che ha
                                selezionato.</para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Sequenza degli eventi</title>
                            <para>
                                <orderedlist>
                                    <listitem>
                                        <para>Il cliente richiede di vedere il contenuto del suo
                                            carrello.</para>
                                    </listitem>
                                    <listitem>
                                        <para>Il sistema presenta al cliente la lista dei libri che
                                            egli ha inserito nel carrello (in vari momenti o anche
                                            in varie sessioni distinte). Qualora nessun libro sia
                                            presente nel carrello il sistema notifica che il
                                            carrello &egrave; vuoto.</para>
                                    </listitem>
                                </orderedlist>
                            </para>
                        </formalpara>
                    </td>
                </tr>
                <tr>
                    <td>
                        <formalpara>
                            <title>Postcondizioni</title>
                            <para>Nessuna.</para>
                        </formalpara>
                    </td>
                </tr>
            </tbody>
        </table>
        <para/>
        <para/>
    </section>
    <section>
        <title>Matrice di mappatura dei requisiti</title>
        <table border="1">
            <caption/>
            <col width="1.03*"/>
            <col width="1.0*"/>
            <col width="1.0*"/>
            <col width="1.0*"/>
            <col width="1.0*"/>
            <col width="1.0*"/>
            <thead align="center">
                <tr align="center">
                    <th/>
                    <th>UC01</th>
                    <th align="center">UC02</th>
                    <th>UC03</th>
                    <th>UC04</th>
                    <th>UC05</th>
                </tr>
            </thead>
            <tbody align="center">
                <tr align="center">
                    <td>R1F.1</td>
                    <td align="center">X</td>
                    <td/>
                    <td/>
                    <td/>
                    <td/>
                </tr>
                <tr align="center">
                    <td>R1F.2</td>
                    <td/>
                    <td>X</td>
                    <td/>
                    <td/>
                    <td/>
                </tr>
                <tr align="center">
                    <td>R1F.3</td>
                    <td/>
                    <td/>
                    <td/>
                    <td>X</td>
                    <td/>
                </tr>
                <tr align="center">
                    <td>R4F</td>
                    <td/>
                    <td/>
                    <td>X</td>
                    <td/>
                    <td/>
                </tr>
            </tbody>
        </table>
    </section>
</chapter>
