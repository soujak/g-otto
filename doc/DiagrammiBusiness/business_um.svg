<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="42 32 881 750" width="881pt" height="750pt"><metadata xmlns:dc="http://purl.org/dc/elements/1.1/"><dc:date>2009-07-03 11:27Z</dc:date><!-- Produced by OmniGraffle Professional 5.1.1 --></metadata><defs><font-face font-family="Helvetica" font-size="14" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="571.4286" cap-height="714.28577" ascent="770.01953" descent="-229.98047" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><font-face font-family="Helvetica" font-size="12" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="583.33337" cap-height="750" ascent="770.01953" descent="-229.98047" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><font-face font-family="Helvetica" font-size="12" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="541.6667" cap-height="750" ascent="770.01953" descent="-229.98047" font-weight="bold"><font-face-src><font-face-name name="Helvetica-Bold"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="UMLInheritance_Marker" viewBox="-1 -8 14 16" markerWidth="14" markerHeight="16" color="black"><g><path d="M 12 0 L 0 -7 L 0 7 Z" fill="none" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="StickArrow_Marker" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 0 M 0 -3 L 8 0 L 0 3" fill="none" stroke="currentColor" stroke-width="1"/></g></marker><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="StickArrow_Marker_2" viewBox="-9 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M -8 0 L 0 0 M 0 3 L -8 0 L 0 -3" fill="none" stroke="currentColor" stroke-width="1"/></g></marker></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>usermanager</title><rect fill="white" width="1118" height="783"/><g><title>Layer 1</title><rect x="292" y="563.5" width="121" height="27" fill="white"/><text transform="translate(297 568.5)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" fill="black" x="9.972656" y="14" textLength="91.05469">is managed by</tspan></text><rect x="724" y="574.5" width="60" height="27" fill="white"/><text transform="translate(729 579.5)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" fill="black" x="3.9829102" y="14" textLength="42.03418">adapts</tspan></text><rect x="61.499985" y="167" width="53" height="24" fill="white"/><text transform="translate(66.499985 170.5)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" fill="black" x=".48291016" y="14" textLength="42.03418">adapts</tspan></text><rect x="129" y="43" width="341.99994" height="68" fill="white"/><rect x="129" y="43" width="341.99994" height="68" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(134 49)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="105.62204" y="11" textLength="120.75586">&lt;&lt;EJBSessionBean&gt;&gt;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="92.29196" y="25" textLength="147.41602">&lt;&lt; JBossEJB3Clustered &gt;&gt;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="bold" x="27.642548" y="39" textLength="276.71484">g8.bookshop.business.um.UserManagerAdaptor</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="88.618134" y="53" textLength="76.03711">{EJBSessionT</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="163.99899" y="53" textLength="79.382812">ype, Stateless}</tspan></text><rect x="129" y="111" width="341.99994" height="14" fill="white"/><rect x="129" y="111" width="341.99994" height="14" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="129" y="125" width="341.99994" height="84" fill="white"/><rect x="129" y="125" width="341.99994" height="84" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(134 132)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="11" textLength="178.40625">+ lookup(id: String) : UserRemote</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="25" textLength="185.0625">+ getUser(id: String) : UserRemote</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="39" textLength="326.51953">+ authenticate(g: GuestRemote, n: String, p: String) : boolean</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="53" textLength="235.11328">+ disconnect(c: CustomerRemote) : boolean</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="67" textLength="286.76367">- invokeUserManager(m: String, a: Object[], t: String[])</tspan></text><rect x="548.56458" y="69" width="362.87085" height="32.430405" fill="white"/><rect x="548.56458" y="69" width="362.87085" height="32.430405" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(553.56458 71.215202)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="107.060425" y="11" textLength="138.75">&lt;&lt;EJBRemoteInterface&gt;&gt;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="bold" x="13.7352295" y="25" textLength="325.4004">g8.bookshop.business.ws. UserManagerAdaptor Remote</tspan></text><rect x="548.56458" y="101.42981" width="362.87085" height="65.57019" fill="white"/><rect x="548.56458" y="101.42981" width="362.87085" height="65.57019" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(553.56458 106.42981)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="11" textLength="178.40625">+ lookup(id: String) : UserRemote</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="25" textLength="185.0625">+ getUser(id: String) : UserRemote</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="39" textLength="326.51953">+ authenticate(g: GuestRemote, n: String, p: String) : boolean</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="53" textLength="235.11328">+ disconnect(c: CustomerRemote) : boolean</tspan></text><line x1="470.99997" y1="167" x2="536.12976" y2="139.47087" marker-end="url(#UMLInheritance_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke-dasharray="4,4"/><rect x="109.499985" y="273" width="380.99988" height="22.620483" fill="white"/><rect x="109.499985" y="273" width="380.99988" height="22.620483" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(114.499985 277.31024)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="bold" x="70.14058" y="11" textLength="230.71875">g8.bookshop.business.um.UserManager</tspan></text><rect x="109.499985" y="295.62054" width="380.99988" height="91.46533" fill="white"/><rect x="109.499985" y="295.62054" width="380.99988" height="91.46533" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(114.499985 300.62054)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="11" textLength="238.76953">- userMap: SortedMap&lt;String, UserRemote&gt;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="25" textLength="232.08984">- EntityManagerFact: EntityManagerFactory</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="39" textLength="166.08398">- entityManager: entityManager</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="53" textLength="84.720703">- logger: Logger</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" fill="black" x="0" y="67" textLength="130.734375">- isMasterNode: boolean</tspan></text><rect x="109.499985" y="372.33356" width="380.99988" height="190.6665" fill="white"/><rect x="109.499985" y="372.33356" width="380.99988" height="190.6665" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(114.499985 376.6668)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="11" textLength="91.03125">+ UserManager()</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="25" textLength="323.18555">+ authenticate(g: GuestRemote, n: String, p:String) : boolean</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="39" textLength="235.11328">+ disconnect(c: CustomerRemote) : boolean</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="53" textLength="185.0625">+ getUser(id: String) : UserRemote</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="67" textLength="178.40625">+ lookup(id: String) : UserRemote</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="81" textLength="83.70117">+ create() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="95" textLength="73.6875">+ start() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="109" textLength="73.03125">+ stop() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="123" textLength="89.70117">+ destroy() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="137" textLength="145.072266">+ isMasterNode() : boolean</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="151" textLength="123.72656">+ startSingleton() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="165" textLength="123.07031">+ stopSingleton() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="179" textLength="353.80078">+ reinvokeOnMasterNode(m: String, a: Object[], t: String[]) : Object</tspan></text><rect x="559" y="310" width="342" height="30.620483" fill="white"/><rect x="559" y="310" width="342" height="30.620483" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(564 311.31024)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="96.62497" y="11" textLength="138.75">&lt;&lt;EJBRemoteInterface&gt;&gt;</tspan><tspan font-family="Helvetica" font-size="12" font-weight="bold" x="28.635712" y="25" textLength="274.72852">g8.bookshop.business.um.UserManagerRemote</tspan></text><rect x="559" y="341" width="342" height="166" fill="white"/><rect x="559" y="341" width="342" height="166" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(564 347)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="11" textLength="323.18555">+ authenticate(g: GuestRemote, n: String, p:String) : boolean</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="25" textLength="235.11328">+ disconnect(c: CustomerRemote) : boolean</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="39" textLength="185.0625">+ getUser(id: String) : UserRemote</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="53" textLength="178.40625">+ lookup(id: String) : UserRemote</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="67" textLength="83.70117">+ create() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="81" textLength="73.6875">+ start() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="95" textLength="73.03125">+ stop() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="109" textLength="89.70117">+ destroy() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="123" textLength="145.072266">+ isMasterNode() : boolean</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="137" textLength="123.72656">+ startSingleton() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="151" textLength="123.07031">+ stopSingleton() : void</tspan></text><line x1="490.99252" y1="435.8036" x2="545.69885" y2="426.3086" marker-end="url(#UMLInheritance_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke-dasharray="4,4"/><rect x="128.99994" y="604" width="342" height="26.620483" fill="white"/><rect x="128.99994" y="604" width="342" height="26.620483" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(133.99994 610.31024)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="bold" x="35.664062" y="11" textLength="260.67188">org.jboss.ha.singleton.HASingletonController</tspan></text><rect x="128.99994" y="631" width="342" height="96" fill="white"/><rect x="128.99994" y="631" width="342" height="96" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(133.99994 637)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="11" textLength="123.72656">+ startSingleton() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="25" textLength="123.07031">+ stopSingleton() : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="39" textLength="33.679688">+ setT</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="32.34961" y="39" textLength="180.73828">argetStartMethod(m: String) : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="53" textLength="33.679688">+ setT</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="32.34961" y="53" textLength="142.06055">argetStartMethod() : String</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="67" textLength="33.679688">+ setT</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="32.34961" y="67" textLength="180.08203">argetStopMethod(m: String) : void</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="81" textLength="33.679688">+ setT</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="32.34961" y="81" textLength="141.4043">argetStopMethod() : String</tspan></text><rect x="559" y="604" width="342" height="26.620483" fill="white"/><rect x="559" y="604" width="342" height="26.620483" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(564 609)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="bold" x="56.9834" y="11" textLength="125.35547">org.jboss.jmx.adaptor</tspan><tspan font-family="Helvetica" font-size="12" font-weight="bold" x="181.68262" y="11" textLength="93.333984">.rmi.RMIAdaptor</tspan></text><rect x="559" y="631" width="342" height="63" fill="white"/><rect x="559" y="631" width="342" height="63" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(564 636)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="11" textLength="282.46289">+ invoke(mbean: ObjectName, methodName: String, </tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="25" textLength="185.4082">   arguments: Object[], argumentsT</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="184.75195" y="25" textLength="118.71094">ypes: String[]) : Object</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="0" y="39" textLength="247.79297">+ isRegistered(mbean: ObjectName) : boolean</tspan></text><path d="M 129.000015 167 L 117.100014 167 L 53 167 L 53 771 L 730 771 L 730 705.90002 L 730 703.90002" marker-end="url(#StickArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 500.39984 531.2223 L 502.39984 531.2223 L 730 531.2223 L 730 592.09998 L 730 604" marker-start="url(#StickArrow_Marker_2)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="299.99994" y1="563.00006" x2="299.99994" y2="594.09998" marker-end="url(#StickArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke-dasharray="4,4"/><path d="M 77.499985 197.19641 L 85.74999 205 L 94 197.19641 Z" fill="black"/><path d="M 77.499985 197.19641 L 85.74999 205 L 94 197.19641 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 762.25 574.5 L 754 566.6964 L 745.75 574.5 Z" fill="black"/><path d="M 762.25 574.5 L 754 566.6964 L 745.75 574.5 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 344.25 590.5 L 352.5 598.3036 L 360.75 590.5 Z" fill="black"/><path d="M 344.25 590.5 L 352.5 598.3036 L 360.75 590.5 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g></g></svg>
