<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE server>
<server>

  <!-- ==================================================================== -->
  <!--    Singleton clustering service                                      -->
  <!-- ==================================================================== -->

    
<!--   <mbean code="org.jboss.ha.singleton.examples.HASingletonMBeanExample" -->
<!--          name="jboss.examples:service=HASingletonMBeanExample">-->
<!--   </mbean>-->
<!--   <mbean code="org.jboss.ha.singleton.HASingletonController" -->
<!--          name="jboss.examples:service=HASingletonMBeanExample-HASingletonController">-->
<!--      <depends>jboss:service=${jboss.partition.name:DefaultPartition}</depends>   -->
<!--      <depends>jboss.examples:service=HASingletonMBeanExample</depends>-->
<!--      <attribute name="PartitionName">${jboss.partition.name:DefaultPartition}</attribute>-->
<!--      <attribute name="TargetName">jboss.examples:service=HASingletonMBeanExample</attribute>-->
<!--      <attribute name="TargetStartMethod">startSingleton</attribute>-->
<!--      <attribute name="TargetStopMethod">stopSingleton</attribute>-->
<!--      <attribute name="TargetStopMethodArgument">true</attribute>-->
<!--   </mbean>-->

   <mbean
   		code="g8.test.Prova"
   		name="g8.test:service=Prova">
   </mbean>
	<mbean
		code="org.jboss.ha.singleton.HASingletonController"
		name="g8.test:service=ProvaController">
		
  		<depends
			optional-attribute-name="ClusterPartition"
			proxy-type="attribute">
  			jboss:service=HAPartition,partition=G8Business
		</depends>

<!--		<depends>g8.test:service=Prova</depends>-->
		<depends>jboss.j2ee:service=EJB3,name=Prova,type=ManagementInterface,ear=ProvaEAR.ear,jar=Prova.jar</depends>
		
<!--		<attribute name="PartitionName">G8Business</attribute>-->

<!--		<attribute name="TargetName">g8.test:service=Prova</attribute>-->
		<attribute name="TargetName">jboss.j2ee:service=EJB3,name=Prova,type=ManagementInterface,ear=ProvaEAR.ear,jar=Prova.jar</attribute>
		
		<attribute name="TargetStartMethod">startSingleton</attribute>
		<attribute name="TargetStopMethod">stopSingleton</attribute>
   </mbean>
</server>
